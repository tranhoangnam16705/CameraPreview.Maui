<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="CameraPreview.Sample.CameraPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:CameraPreview.Maui.Controls;assembly=CameraPreview.Maui"
    Title="CameraPage">
    <Grid>
        <!--  Native Camera View - Simple!  -->
        <controls:CameraView
            x:Name="camerapreview"
            Grid.Row="0"
            AutoStart="False"
            FrameReady="OnFrameReady"
            HeightRequest="500"
            HorizontalOptions="Center"
            VerticalOptions="Start"
            WidthRequest="500" />

        <!--  Overlay for drawing  -->
        <GraphicsView
            x:Name="OverlayCanvas"
            Grid.Row="0"
            HeightRequest="500"
            HorizontalOptions="Center"
            InputTransparent="True"
            VerticalOptions="Start"
            WidthRequest="500" />

        <StackLayout
            Grid.Row="1"
            Padding="15"
            BackgroundColor="#80000000"
            Spacing="8">
            <Label
                x:Name="lblStatus"
                FontAttributes="Bold"
                FontSize="18"
                HorizontalOptions="Center"
                Text="Initializing..." />
            <Label
                x:Name="lblEAR"
                FontSize="14"
                Text="EAR: -"
                TextColor="White" />
            <Label
                x:Name="lblDrowsy"
                FontSize="14"
                Text="Drowsiness: Not detected" />
            <Label
                x:Name="lblSmoking"
                FontSize="14"
                Text="Smoking: Not detected" />
            <Label
                x:Name="lblFPS"
                FontSize="12"
                Text="FPS: 0"
                TextColor="LightGray" />
        </StackLayout>

        <StackLayout
            Grid.Row="1"
            HorizontalOptions="Center"
            VerticalOptions="End">
            <Image
                x:Name="imagesource"
                HeightRequest="400"
                WidthRequest="400" />
            <Button
                Clicked="Button_Clicked"
                HeightRequest="50"
                Text="Test chụp ảnh"
                WidthRequest="200" />
        </StackLayout>


    </Grid>
</ContentPage>